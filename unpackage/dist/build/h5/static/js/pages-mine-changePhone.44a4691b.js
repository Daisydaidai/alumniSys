(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-changePhone"],{"42fa":function(t,e,n){"use strict";n.r(e);var o=n("8cf1"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"692b":function(t,e,n){t.exports=n.p+"static/img/phone.3f283f97.png"},"7aeb":function(t,e,n){"use strict";n.r(e);var o=n("9ac8"),i=n("42fa");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("cbc9");var c,r=n("f0c5"),s=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"496c8bfd",null,!1,o["a"],c);e["default"]=s.exports},8608:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.back-header[data-v-496c8bfd]{padding:%?32?% %?18?%;color:#0b102c;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex}.back-header .label-title[data-v-496c8bfd]{width:100%;text-align:center;display:inline-block}.cont[data-v-496c8bfd]{padding:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cont .phone[data-v-496c8bfd]{width:%?128?%;height:%?128?%;margin-top:%?48?%}.cont .phone-num[data-v-496c8bfd]{color:#405afe;font-weight:700;font-size:%?36?%;margin-top:%?32?%}.cont .cur-text[data-v-496c8bfd]{color:#9fa4b5;font-size:%?24?%;margin-top:%?12?%}.cont .input-phone[data-v-496c8bfd]{padding:%?20?% %?32?%;background-color:#f5f7ff;width:100%;margin-top:%?32?%;border-radius:%?8?%}.cont .verif-code-wrap[data-v-496c8bfd]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;margin-top:%?32?%}.cont .verif-code-wrap .verif-code-input[data-v-496c8bfd]{padding:%?20?% %?32?%;background-color:#f5f7ff;width:%?390?%;border-radius:%?8?%}.cont .verif-code-wrap .get-verif[data-v-496c8bfd]{background-color:#405afe;width:%?200?%;height:%?80?%;line-height:%?80?%;text-align:center;color:#fff;box-shadow:0 %?4?% %?8?% 0 #405afe;border-radius:%?8?%}.cont .confirm-btn[data-v-496c8bfd]{width:100%;height:%?96?%;line-height:%?96?%;text-align:center;color:#fff;background:#405afe;box-shadow:0 %?8?% %?16?% 0 rgba(64,90,254,.3);border-radius:%?8?%;margin-top:%?48?%}',""]),t.exports=e},"8cf1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=getApp(),i={data:function(){return{old_phone:"",phone:"",code:"",reload:"获取验证码",timing:!1,timer:null,count:""}},onLoad:function(){o.reToken()&&uni.getStorageSync("access_token"),this.old_phone=uni.getStorageSync("user_phone")},methods:{toBack:function(){uni.navigateTo({url:"./account"})},getVerCode:function(){var t=this;if(11!=this.phone.length)return uni.showToast({icon:"none",title:"请输入正确的手机号"}),!1;if(!this.timing){this.getCode();var e=60;this.reload="重新获取("+e+"s)",this.count=e,this.timing=!0,this.timer=setInterval((function(){t.count>0&&t.count<=e?(t.count--,t.reload="重新获取("+t.count+"s)"):(t.timing=!1,clearInterval(t.timer),t.timer=null,t.reload="重新获取")}),1e3)}},getCode:function(){uni.request({url:getApp().globalData.url+"api/sms",method:"POST",data:{phone:this.phone},success:function(t){if(console.log(t),500==t.statusCode)return uni.showToast({icon:"none",title:"发送失败，请稍后再试"}),!1;uni.showToast({icon:"none",position:"bottom",title:"发送成功，请注意查收"})},fail:function(t){console.log(t),uni.showToast({icon:"none",title:"请求失败，请稍后再试"})}})},confirm_phone:function(){uni.request({url:getApp().globalData.url+"api/user/mobile/change",method:"POST",header:{Authorization:"Bearer "+uni.getStorageSync("access_token")},data:{mobile:this.phone,code:this.code},success:function(t){uni.showToast({icon:"none",position:"bottom",title:"手机号修改成功"}),uni.reLaunch({url:"./account"})},fail:function(t){console.log(t),uni.showToast({icon:"none",title:"请求失败，请稍后再试"})}})}}};e.default=i},"9ac8":function(t,e,n){"use strict";var o={uIcon:n("4f46").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",{staticClass:"back-header"},[o("u-icon",{attrs:{name:"arrow-left",color:"#444444",size:"40"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toBack.apply(void 0,arguments)}}}),o("v-uni-text",{staticClass:"label-title"},[t._v("更改绑定")])],1),o("v-uni-view",{staticClass:"cont"},[o("v-uni-image",{staticClass:"phone",attrs:{src:n("692b"),mode:""}}),o("v-uni-text",{staticClass:"phone-num"},[t._v(t._s(t.old_phone))]),o("v-uni-text",{staticClass:"cur-text"},[t._v("当前绑定手机号")]),o("v-uni-view",{staticClass:"input-phone"},[o("v-uni-input",{attrs:{placeholder:"请输入新手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),o("v-uni-view",{staticClass:"verif-code-wrap"},[o("v-uni-input",{staticClass:"verif-code-input",attrs:{placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),o("v-uni-text",{staticClass:"get-verif",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getVerCode()}}},[t._v(t._s(t.reload))])],1),o("v-uni-button",{staticClass:"confirm-btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm_phone()}}},[t._v("确认绑定")])],1)],1)},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},c1fd:function(t,e,n){var o=n("8608");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=n("4f06").default;i("52eeb56a",o,!0,{sourceMap:!1,shadowMode:!1})},cbc9:function(t,e,n){"use strict";var o=n("c1fd"),i=n.n(o);i.a}}]);