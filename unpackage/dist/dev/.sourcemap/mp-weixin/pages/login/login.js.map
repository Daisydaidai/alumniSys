{"version":3,"sources":["webpack:///D:/A项目/alumniSys/main.js","webpack:///D:/A项目/alumniSys/pages/login/login.vue?5614","webpack:///D:/A项目/alumniSys/pages/login/login.vue?fb32","webpack:///D:/A项目/alumniSys/pages/login/login.vue?eba0","webpack:///D:/A项目/alumniSys/pages/login/login.vue?4a2c","webpack:///D:/A项目/alumniSys/pages/login/login.vue","webpack:///D:/A项目/alumniSys/pages/login/login.vue?7ffc","webpack:///D:/A项目/alumniSys/pages/login/login.vue?84a8"],"names":["createPage","Page","data","account","password","open_id","onLoad","isWx","isWeiXinBrowser","uni","getStorageSync","reLaunch","url","console","log","window","location","href","methods","toLogin","showToast","title","icon","position","login","showLoading","request","getApp","globalData","method","openid","success","res","hideLoading","items","errorCode","setStorageSync","expires_in","access_token","switchTab","msg","statusCode","fail"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=2f7e1e7e&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"A项目/alumniSys/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=2f7e1e7e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\taccount: '',\n\t\t\tpassword: '',\n\t\t\topen_id : ''\n\t\t};\n\t},\n\tonLoad() {\n\t\tvar isWx = this.isWeiXinBrowser();\n\t\tthis.open_id = uni.getStorageSync('open_id')\n\t\tif(this.open_id){\n\t\t\t// console.log(999)\n\t\t\tisWx = false\n\t\t}\n\t\tif(this.open_id && uni.getStorageSync('access_token')) {\n\t\t\t// console.log(\"index\")\n\t\t\tuni.reLaunch({\n\t\t\t\turl: '../index/index'\n\t\t\t})\n\t\t}\n\t\tif(isWx && !this.open_id) {\n\t\t\tconsole.log(\"wx\")\n\t\t\twindow.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxac1e986e99f1fafa&redirect_uri=https://mbaxy.demoo.com.cn/api/offical/auth&response_type=code&scope=snsapi_userinfo&state=#wechat_redirect'\n\t\t}\n\t},\n\tmethods: {\n\t\tisWeiXinBrowser() {\n\t\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\n\t\treturn false\n\t\t\n\t\t},\n\t\ttoLogin() {\n\t\t\tif(this.account == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入学号',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t});\n\t\t\t} else if (this.password == '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入密码',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.login()\n\t\t\t}\n\t\t},\n\t\tlogin() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中...'\n\t\t\t});\n\t\t\t\n\t\t\tuni.request({\n\t\t\t\turl: getApp().globalData.url + 'api/login',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\taccount: this.account,\n\t\t\t\t\tpassword: this.password,\n\t\t\t\t\topenid: this.open_id\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// console.log('普通登录成功')\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t// console.log('普通登录成功')\n\t\t\t\t\tvar data = res.data.items;\n\t\t\t\t\tif(res.data.errorCode == 0) {\n\t\t\t\t\t\tuni.setStorageSync(\"expires_in\", data.expires_in);\n\t\t\t\t\t\tuni.setStorageSync(\"access_token\", data.access_token);\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '../index/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t}else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// console.log(data.expires_in)\n\t\t\t\t\tif (res.data.statusCode == 200 || res.statusCode == 422) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (res.data.errorCode == '401'|| res.data.errorCode == '400') {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (res.statusCode == 500) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: '登录失败，请重试',\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t// else {\n\t\t\t\t\t// \tuni.reLaunch({\n\t\t\t\t\t// \t\turl: '../index/index'\n\t\t\t\t\t// \t})\n\t\t\t\t\t// }\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t\n\t\t\t\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596501778015\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}